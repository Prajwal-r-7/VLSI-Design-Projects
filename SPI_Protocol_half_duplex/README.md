# ğŸ“¡ SPI Protocol - Half Duplex Mode

A Verilog implementation of the **Serial Peripheral Interface (SPI)** protocol operating in **half-duplex mode**. This project demonstrates master-slave communication using a synchronous serial communication protocol widely used in embedded systems.

<p align="center">
  <img src="block_diagram.png" alt="SPI Half Duplex Block Diagram" width="600">
</p>

---

## ğŸ“‹ Overview

**SPI (Serial Peripheral Interface)** is a synchronous serial communication protocol used for short-distance communication between microcontrollers and peripheral devices. This implementation features:

- âœ… Master-Slave architecture
- âœ… Half-duplex communication (unidirectional data transfer)
- âœ… Clock-driven synchronous data transfer
- âœ… Configurable data width
- âœ… Complete simulation testbench

---

## ğŸ”Œ What is Half Duplex?

In **half-duplex mode**, data flows in **one direction at a time**:
- Master â†’ Slave (transmission phase)
- OR Slave â†’ Master (reception phase)
- **Not simultaneous** (unlike full-duplex)

This mode is useful when:
- Bidirectional communication isn't needed simultaneously
- Reducing pin count is important
- Simpler control logic is preferred

---

## ğŸ“ Repository Structure

```
ğŸ“¦ SPI_Protocol_Half_Duplex/
â”œâ”€â”€ spi_master.v         # Master module with clock generation
â”œâ”€â”€ spi_slave.v          # Slave module with data handling
â”œâ”€â”€ spi_top.v            # Top module connecting master & slave
â”œâ”€â”€ spi_tb.v             # Testbench for simulation
â”œâ”€â”€ block_diagram.png    # System architecture diagram
â””â”€â”€ waveform.png         # Simulation waveform results
```

---

## ğŸ”§ SPI Signal Lines

| Signal | Direction | Description |
|--------|-----------|-------------|
| **SCLK** | Master â†’ Slave | Serial Clock generated by master |
| **MOSI** | Master â†’ Slave | Master Out Slave In (data line) |
| **MISO** | Slave â†’ Master | Master In Slave Out (data line) |
| **CS/SS** | Master â†’ Slave | Chip Select / Slave Select (active low) |

**Note**: In half-duplex mode, either MOSI or MISO is active at any given time, not both.

---

## ğŸ¯ Module Descriptions

### ğŸ“¤ **SPI Master** (`spi_master.v`)
- Generates serial clock (SCLK)
- Controls chip select (CS) signal
- Transmits data serially via MOSI
- Receives data from MISO
- Manages communication timing

### ğŸ“¥ **SPI Slave** (`spi_slave.v`)
- Receives serial clock from master
- Captures data on MOSI line
- Transmits data on MISO line
- Responds when CS is asserted
- Shifts data in/out based on clock edges

### ğŸ”— **SPI Top Module** (`spi_top.v`)
- Integrates master and slave modules
- Establishes communication links
- Routes all SPI signals
- Acts as system-level wrapper

### ğŸ§ª **Testbench** (`spi_tb.v`)
- Verifies master-slave communication
- Tests data transmission accuracy
- Validates timing requirements
- Generates simulation waveforms

---

## ğŸ“Š Simulation Results

<p align="center">
  <img src="waveform.png" alt="SPI Communication Waveform" width="700">
</p>


The waveform demonstrates:
- âœ… Proper clock generation
- âœ… Chip select assertion/deassertion
- âœ… Serial data transmission on MOSI/MISO
- âœ… Correct data capture timing
- âœ… Half-duplex operation

---

## ğŸ”„ Data Transfer Implementation

This implementation uses a **bidirectional data line** (`spi_io`) controlled by a direction signal (`spi_io_dir`):

- **Direction Control**: `spi_io_dir` signal determines data flow direction
  - When Master transmits â†’ Slave receives
  - When Slave transmits â†’ Master receives

### Test Data Transfer:
```verilog
// Phase 1: Master â†’ Slave
Master transmits: 0xA5A5
Slave receives: 0xA5A5

// Phase 2: Slave â†’ Master  
Slave transmits: 0xCC33
Master receives: 0xCC33
```
---
## âš™ï¸ Key Features

- ğŸ”„ **Configurable Data Width**: Easy to modify for 8-bit, 16-bit, or 32-bit transfers
- â±ï¸ **Clock Control**: Master generates and controls serial clock
- ğŸšï¸ **Active Low CS**: Standard chip select implementation
- ğŸ“Š **Edge Triggered**: Data capture on clock edges
- ğŸ§ª **Fully Tested**: Complete testbench with verification

---

## ğŸ“¬ Contact

**Prajwal R**  
ğŸ“§ Email: rprajwal745@gmail.com  
ğŸ”— LinkedIn: [linkedin.com/in/prajwal~r](https://www.linkedin.com/in/prajwal~r)

---


â­ **If you find this project useful, please give it a star!**

