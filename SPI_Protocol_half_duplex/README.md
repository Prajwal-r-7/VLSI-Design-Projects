# ğŸ“¡ SPI Protocol - Half Duplex Mode

A Verilog implementation of the **Serial Peripheral Interface (SPI)** protocol operating in **half-duplex mode**. This project demonstrates master-slave communication using a synchronous serial communication protocol widely used in embedded systems.

<p align="center">
  <img src="block_diagram.png" alt="SPI Half Duplex Block Diagram" width="600">
</p>

---

## ğŸ“‹ Overview

**SPI (Serial Peripheral Interface)** is a synchronous serial communication protocol used for short-distance communication between microcontrollers and peripheral devices. This implementation features:

- âœ… Master-Slave architecture
- âœ… Half-duplex communication (unidirectional data transfer)
- âœ… Clock-driven synchronous data transfer
- âœ… Configurable data width
- âœ… Complete simulation testbench

---

## ğŸ”Œ What is Half Duplex?

In **half-duplex mode**, data flows in **one direction at a time**:
- Master â†’ Slave (transmission phase)
- OR Slave â†’ Master (reception phase)
- **Not simultaneous** (unlike full-duplex)

This mode is useful when:
- Bidirectional communication isn't needed simultaneously
- Reducing pin count is important
- Simpler control logic is preferred

---

## ğŸ“ Repository Structure

```
ğŸ“¦ SPI_Protocol_Half_Duplex/
â”œâ”€â”€ spi_master.v         # Master module with clock generation
â”œâ”€â”€ spi_slave.v          # Slave module with data handling
â”œâ”€â”€ spi_top.v            # Top module connecting master & slave
â”œâ”€â”€ spi_tb.v             # Testbench for simulation
â”œâ”€â”€ block_diagram.png    # System architecture diagram
â””â”€â”€ waveform.png         # Simulation waveform results
```

---

## ğŸ”§ SPI Signal Lines

| Signal | Direction | Description |
|--------|-----------|-------------|
| **SCLK** | Master â†’ Slave | Serial Clock generated by master |
| **MOSI** | Master â†’ Slave | Master Out Slave In (data line) |
| **MISO** | Slave â†’ Master | Master In Slave Out (data line) |
| **CS/SS** | Master â†’ Slave | Chip Select / Slave Select (active low) |

**Note**: In half-duplex mode, either MOSI or MISO is active at any given time, not both.

---

## ğŸ¯ Module Descriptions

### ğŸ“¤ **SPI Master** (`spi_master.v`)
- Generates serial clock (SCLK)
- Controls chip select (CS) signal
- Transmits data serially via MOSI
- Receives data from MISO
- Manages communication timing

### ğŸ“¥ **SPI Slave** (`spi_slave.v`)
- Receives serial clock from master
- Captures data on MOSI line
- Transmits data on MISO line
- Responds when CS is asserted
- Shifts data in/out based on clock edges

### ğŸ”— **SPI Top Module** (`spi_top.v`)
- Integrates master and slave modules
- Establishes communication links
- Routes all SPI signals
- Acts as system-level wrapper

### ğŸ§ª **Testbench** (`spi_tb.v`)
- Verifies master-slave communication
- Tests data transmission accuracy
- Validates timing requirements
- Generates simulation waveforms

---

## ğŸ“Š Simulation Results

<p align="center">
  <img src="waveform.png" alt="SPI Communication Waveform" width="700">
</p>

The waveform demonstrates:
- âœ… Proper clock generation
- âœ… Chip select assertion/deassertion
- âœ… Serial data transmission on MOSI/MISO
- âœ… Correct data capture timing
- âœ… Half-duplex operation

---

## ğŸš€ How to Run

### Prerequisites
- Xilinx Vivado / ModelSim / any Verilog simulator
- Basic understanding of SPI protocol

### Simulation Steps

1. **Clone the repository**:
   ```bash
   git clone https://github.com/YOUR_USERNAME/SPI-Protocol-Half-Duplex.git
   cd SPI-Protocol-Half-Duplex
   ```

2. **Open your Verilog simulator**

3. **Add source files**:
   - Add `spi_master.v`, `spi_slave.v`, `spi_top.v`
   - Set `spi_top.v` as top module
   - Add `spi_tb.v` as simulation source

4. **Run simulation**:
   ```bash
   # For Vivado
   Run Behavioral Simulation
   
   # For ModelSim
   vlog spi_master.v spi_slave.v spi_top.v spi_tb.v
   vsim spi_tb
   run -all
   ```

5. **Analyze waveforms** to verify correct operation

---

## âš™ï¸ Key Features

- ğŸ”„ **Configurable Data Width**: Easy to modify for 8-bit, 16-bit, or 32-bit transfers
- â±ï¸ **Clock Control**: Master generates and controls serial clock
- ğŸšï¸ **Active Low CS**: Standard chip select implementation
- ğŸ“Š **Edge Triggered**: Data capture on clock edges
- ğŸ§ª **Fully Tested**: Complete testbench with verification

---

## ğŸ“ Learning Outcomes

Through this project, you'll understand:
- Serial communication protocols
- Master-slave synchronous communication
- Clock-driven data transfer
- Half-duplex vs full-duplex modes
- Verilog implementation of communication protocols
- Timing and synchronization in digital systems

---

## ğŸ”® Future Enhancements

- [ ] Add full-duplex mode support
- [ ] Implement multiple slave select capability
- [ ] Add configurable clock polarity (CPOL) and phase (CPHA)
- [ ] Error detection and handling
- [ ] FIFO buffers for data management
- [ ] Different SPI modes (Mode 0, 1, 2, 3)

---

## ğŸ“š References

- SPI Protocol Specification
- Embedded Systems Communication Protocols
- Verilog HDL Design Guidelines

---

## ğŸ“¬ Contact

**Prajwal R**  
ğŸ“§ Email: rprajwal745@gmail.com  
ğŸ”— LinkedIn: [linkedin.com/in/prajwal~r](https://www.linkedin.com/in/prajwal~r)

---

â­ **If you find this project useful, please give it a star!**